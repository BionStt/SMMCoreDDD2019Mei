@model SmmCoreDDD2019.Application.DataKontrakKreditDBs.Command.CreateDataKontrakKredit.CreateDataKontrakKreditCommand

@{
 //   ViewData["Title"] = "CreateDataKontrakKredit";
    Layout = "~/Views/Shared/_AdminlteCreate.cshtml";
}
<hr />
<div class="row">
    <div class="col-md-10">
        <form asp-action="CreateDataKontrakKredit">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                @*<div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="NoRegisterKontrakKredit" class="control-label"></label>

                        <input asp-for="NoRegisterKontrakKredit" class="form-control" />
                        <span asp-validation-for="NoRegisterKontrakKredit" class="text-danger"></span>

                    </div>
                </div>*@
                <div class="col-md-10">
                    <div class="form-group">
                        <label asp-for="NoRegisterSurvei" class="control-label"></label>
                     <select asp-items="@ViewBag.DataSurvei1"  asp-for="NoRegisterSurvei" class="form-control"></select>
                      
                        <span asp-validation-for="NoRegisterSurvei" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-10">
                    <div class="form-group">
                        <label asp-for="TanggalKontrak" class="control-label"></label>
                        <input id="TanggalKontrak1" asp-for="TanggalKontrak" class="form-control" />
                        <span asp-validation-for="TanggalKontrak" class="text-danger"></span>
                    </div>
                </div>

            </div>
            <div class="form-group">
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="PolaAngsuran" class="control-label"></label>
                        <select asp-items="@ViewBag.PolaAngsuran1" id="PolaAngsuran1a" asp-for="PolaAngsuran" class="form-control">
                            <option>Silahkan Pilih Data</option>
                        </select>
                      
                        <span asp-validation-for="PolaAngsuran" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="AngsuranDimuka" class="control-label"></label>
                        <select asp-items="@ViewBag.AngsuranDimuka1" id="AngsuranDimk1a" asp-for="AngsuranDimuka" class="form-control">
                            <option>Silahkan Pilih Data</option>
                        </select>
                      
                        <span asp-validation-for="AngsuranDimuka" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="HargaBarang" class="control-label"></label>
                        <input id="HargaOtr1"  value="0" asp-for="HargaBarang" class="form-control" />
                        <span asp-validation-for="HargaBarang" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="UangMuka" class="control-label"></label>
                        <input id="Um1" value="0" asp-for="UangMuka" class="form-control" />
                        <span asp-validation-for="UangMuka" class="text-danger"></span>

                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="Asuransi" class="control-label"></label>
                        <input  id="asuransi1" value="0" asp-for="Asuransi" class="form-control" />
                        <span asp-validation-for="Asuransi" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="Administrasi" class="control-label"></label>
                        <input  id="adm1" value="0" asp-for="Administrasi" class="form-control" />
                        <span asp-validation-for="Administrasi" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="BungaEff" class="control-label"></label>
                        <input id="BEfektif1" value="0" asp-for="BungaEff" class="form-control" />
                        <span asp-validation-for="BungaEff" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="BungaFlat" class="control-label"></label>
                        <input type="number" id="BFlat1" value="0" readonly asp-for="BungaFlat" class="form-control" />
                       
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="LamaKredit" class="control-label"></label>
                        <input id="Tenor1"  value="0" asp-for="LamaKredit" class="form-control" />
                        <span asp-validation-for="LamaKredit" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="form-group">
                        <label class="control-label">Pokok Hutang</label>

                        <input readonly id="PokokHutang1a" value="0" class="form-control" />
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-5">
                    <div class="form-group">
                       
                        <label asp-for="CaraBayar" class="control-label"></label>
                        <select asp-for="CaraBayar" class="form-control" asp-items="@ViewBag.CaraBayar1" ></select>
                 
                        <span asp-validation-for="CaraBayar" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="NilaiBunga" class="control-label"></label>
                        <input id="NilaiBunga1" value="0" readonly  class="form-control" />
                        <input id="NilaiBunga2" hidden value="0" readonly asp-for="NilaiBunga" class="form-control" />


                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="NilaiKontrak" class="control-label"></label>
                        <input  id="NilaiKontrak1" value="0" readonly  class="form-control" />
                      <input id="NilaiKontrak2" hidden asp-for="NilaiKontrak"/>


                    </div>
                </div>
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="AngsuranBulanan" class="control-label"></label>
                        <input hidden  id="AngsuranBln2"asp-for="AngsuranBulanan" />
                        <input id="AngsuranBln1" value="0" readonly class="form-control" />
                      
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-5">
                    <div class="form-group">
                        <label asp-for="BiayaAdministrasiAngsuran" class="control-label"></label>
                        <input value="0" asp-for="BiayaAdministrasiAngsuran" class="form-control" />
                        <span asp-validation-for="BiayaAdministrasiAngsuran" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="form-group">
                        @*<label asp-for="PenagihId" class="control-label"></label>
                        <input asp-for="PenagihId" class="form-control" />
                        <span asp-validation-for="PenagihId" class="text-danger"></span>*@
                        <label asp-for="TanggalAngsuranBulanan" class="control-label"></label>
                        <input value="5" asp-for="TanggalAngsuranBulanan" class="form-control" />
                        <span asp-validation-for="TanggalAngsuranBulanan" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-5">
                    <div class="form-group">
                        <input type="submit" value="Create" class="btn btn-default" />

                    </div>
                </div>
             
            </div>
          
        </form>
    </div>
</div>
<script>
    $('#TanggalKontrak1').datepicker({
        changeMonth: true,
        changeYear: true,
        //  appendText: "(Tanggal-Bulan-Tahun)",
        dateFormat: "dd-mm-yy",
        yearRange: "c-100:c+10"

    });

    $(document).ready(function () {

     

        $('#HargaOtr1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#HargaOtr1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });
        $('#Um1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#Um1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });
        $('#asuransi1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#asuransi1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });
        $('#adm1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#adm1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });
        $('#BFlat1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#BFlat1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });
        $('#BEfektif1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#BEfektif1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });
        $('#Tenor1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#Tenor1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });
        $('#NilaiBunga1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#NilaiBunga1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });
        $('#NilaiKontrak1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#NilaiKontrak1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });
        $('#AngsuranBln1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#AngsuranBln1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });
        $('#AdmAngsuran1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#AdmAngsuran1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });

        $('#Angsuran1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#Angsuran1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });

        $('#tglAngsuranBlnan1').keypress(function (e) {
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;

            return false;
        });
        $('#tglAngsuranBlnan1').keydown(function (e) {
            // return /[0-9]/.test(String.fromCharCode(e.which));
            var key = e.which || e.keyCode;
            if (!e.shiftKey && !e.altKey && !e.ctrlKey &&
                // numbers
                key >= 48 && key <= 57 ||
                // Numeric keypad
                key >= 96 && key <= 105 ||
                // Backspace and Tab and Enter
                key == 8 || key == 9 || key == 13 ||
                // Home and End
                key == 35 || key == 36 ||
                // left and right arrows
                key == 37 || key == 39 ||
                // Del and Ins
                key == 46 || key == 45)
                return true;
            return false;
        });

        $('#Tenor1').change(function () {
            var HargaOtr1a = parseFloat($('#HargaOtr1').val());
            var Um1a = parseFloat($('#Um1').val());
            var asuransi1a = parseFloat($('#asuransi1').val());
            var adm1a = parseFloat($('#adm1').val());
            var BFlat1a = parseFloat($('#BFlat1').val());
            var BEfektif1a = parseFloat($('#BEfektif1').val());
            var Tenor1a = parseFloat($('#Tenor1').val());
            var NilaiBunga1a = parseFloat($('#NilaiBunga1').val());
            var NilaiKontrak1a = parseFloat($('#NilaiKontrak1').val());
            var AngsuranBln1a = parseFloat($('#AngsuranBln1').val());
            var AdmAngsuran1a = parseFloat($('#AdmAngsuran1').val());
            var Angsuran1a = parseFloat($('#Angsuran1').val());
            var rate1 = parseFloat((BEfektif1a) / 1200);
            var hp1 = HargaOtr1a - Um1a + adm1a + asuransi1a;
            var angs1 = 0;
            var angs2 = 0;
            var PolaAngsuranX = document.getElementById("PolaAngsuran1a").selectedIndex;
            var PolaAngsuranY = document.getElementById("PolaAngsuran1a").options;

            var AngsDimkX = document.getElementById("AngsuranDimk1a").selectedIndex;
            var AngsDimkY = document.getElementById("AngsuranDimk1a").options;

            var hprate1 = parseFloat(hp1 * rate1);
            var rate2 = parseFloat(1 + rate1);

            $('#PokokHutang1a').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(hp1));
            $('#PokokHutang1a').change();

            if (PolaAngsuranY[PolaAngsuranX].value == 1)//bunga anuitas
            {

                if (AngsDimkY[AngsDimkX].value == 1)//angsuran dimuka y
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();
                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0; 2
                    }
                    else {
                        //  angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                        // angs2 = Math.round(((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))).toFixed(0);
                        //  angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a))))/1000)*1000;
                        angs1 = ((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;
                        angs2 = Math.round((((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs2));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs2);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs2 * Tenor1a).toFixed(0);
                    if (angs2 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();
                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();

                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();


                    }
                }
                else//angsuran dimuka tidak
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();
                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {

                        angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs1);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs1 * Tenor1a).toFixed(0);
                    if (angs1 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();
                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();
                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();

                    }
                }

            }
            else//bunga flat
            {
                if (hp1 == 0 || rate1 == 0) {
                    $('#AngsuranBln1').val(0);
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(0);
                    $('#AngsuranBln2').change();
                    angs1 = 0;
                }
                else {

                    // angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                    // angs1 = ((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a).toFixed(0);
                    angs1 = Math.round(((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a));
                    $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(angs1);
                    $('#AngsuranBln2').change();
                }
                var jumlahKontrak = parseFloat(angs1 * Tenor1a);
                if (angs1 == 0) {
                    $('#NilaiBunga1').val(0);
                    $('#NilaiBunga1').change();
                    $('#NilaiKontrak1').val(0);
                    $('#NilaiKontrak1').change();
                    $('#BFlat1').val(0);
                    $('#BFlat1').change();

                    $('#NilaiBunga2').val(0);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(0);
                    $('#NilaiKontrak2').change();

                }
                else {
                    var NIlaiBunga1 = (jumlahKontrak - hp1);
                    $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                    $('#NilaiBunga1').change();

                    $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(NIlaiBunga1);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(jumlahKontrak);
                    $('#NilaiKontrak2').change();

                    var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                    $('#BFlat1').val(flat1AA.toFixed(2));
                    $('#BFlat1').change();

                }

            }



        });

        $('#BEfektif1').change(function () {
            var HargaOtr1a = parseFloat($('#HargaOtr1').val());
            var Um1a = parseFloat($('#Um1').val());
            var asuransi1a = parseFloat($('#asuransi1').val());
            var adm1a = parseFloat($('#adm1').val());
            var BFlat1a = parseFloat($('#BFlat1').val());
            var BEfektif1a = parseFloat($('#BEfektif1').val());
            var Tenor1a = parseFloat($('#Tenor1').val());
            var NilaiBunga1a = parseFloat($('#NilaiBunga1').val());
            var NilaiKontrak1a = parseFloat($('#NilaiKontrak1').val());
            var AngsuranBln1a = parseFloat($('#AngsuranBln1').val());
            var AdmAngsuran1a = parseFloat($('#AdmAngsuran1').val());
            var Angsuran1a = parseFloat($('#Angsuran1').val());
            var rate1 = parseFloat((BEfektif1a) / 1200);
            var hp1 = HargaOtr1a - Um1a + adm1a + asuransi1a;
            var angs1 = 0;
            var angs2 = 0;
            var PolaAngsuranX = document.getElementById("PolaAngsuran1a").selectedIndex;
            var PolaAngsuranY = document.getElementById("PolaAngsuran1a").options;

            var AngsDimkX = document.getElementById("AngsuranDimk1a").selectedIndex;
            var AngsDimkY = document.getElementById("AngsuranDimk1a").options;

            var hprate1 = parseFloat(hp1 * rate1);
            var rate2 = parseFloat(1 + rate1);

            $('#PokokHutang1a').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(hp1));
            $('#PokokHutang1a').change();

            if (PolaAngsuranY[PolaAngsuranX].value == 1)//bunga anuitas
            {

                if (AngsDimkY[AngsDimkX].value == 1)//angsuran dimuka y
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {
                        //  angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                        // angs2 = Math.round(((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))).toFixed(0);
                        //  angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a))))/1000)*1000;
                        angs1 = ((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;
                        angs2 = Math.round((((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs2));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs2);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs2 * Tenor1a).toFixed(0);
                    if (angs2 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();


                    }
                }
                else//angsuran dimuka tidak
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {

                        angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs1);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs1 * Tenor1a).toFixed(0);
                    if (angs1 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();

                    }
                }

            }
            else//bunga flat
            {
                if (hp1 == 0 || rate1 == 0) {
                    $('#AngsuranBln1').val(0);
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(0);
                    $('#AngsuranBln2').change();
                    angs1 = 0;
                }
                else {

                    // angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                    // angs1 = ((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a).toFixed(0);
                    angs1 = Math.round(((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a));
                    $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(angs1);
                    $('#AngsuranBln2').change();

                }
                var jumlahKontrak = parseFloat(angs1 * Tenor1a);
                if (angs1 == 0) {
                    $('#NilaiBunga1').val(0);
                    $('#NilaiBunga1').change();
                    $('#NilaiKontrak1').val(0);
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(0);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(0);
                    $('#NilaiKontrak2').change();

                    $('#BFlat1').val(0);
                    $('#BFlat1').change();

                }
                else {
                    var NIlaiBunga1 = (jumlahKontrak - hp1);
                    $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                    $('#NilaiBunga1').change();

                    $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(NIlaiBunga1);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(jumlahKontrak);
                    $('#NilaiKontrak2').change();

                    var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                    $('#BFlat1').val(flat1AA.toFixed(2));
                    $('#BFlat1').change();

                }

            }



        });
        $('#adm1').change(function () {
            var HargaOtr1a = parseFloat($('#HargaOtr1').val());
            var Um1a = parseFloat($('#Um1').val());
            var asuransi1a = parseFloat($('#asuransi1').val());
            var adm1a = parseFloat($('#adm1').val());
            var BFlat1a = parseFloat($('#BFlat1').val());
            var BEfektif1a = parseFloat($('#BEfektif1').val());
            var Tenor1a = parseFloat($('#Tenor1').val());
            var NilaiBunga1a = parseFloat($('#NilaiBunga1').val());
            var NilaiKontrak1a = parseFloat($('#NilaiKontrak1').val());
            var AngsuranBln1a = parseFloat($('#AngsuranBln1').val());
            var AdmAngsuran1a = parseFloat($('#AdmAngsuran1').val());
            var Angsuran1a = parseFloat($('#Angsuran1').val());
            var rate1 = parseFloat((BEfektif1a) / 1200);
            var hp1 = HargaOtr1a - Um1a + adm1a + asuransi1a;
            var angs1 = 0;
            var angs2 = 0;
            var PolaAngsuranX = document.getElementById("PolaAngsuran1a").selectedIndex;
            var PolaAngsuranY = document.getElementById("PolaAngsuran1a").options;

            var AngsDimkX = document.getElementById("AngsuranDimk1a").selectedIndex;
            var AngsDimkY = document.getElementById("AngsuranDimk1a").options;

            var hprate1 = parseFloat(hp1 * rate1);
            var rate2 = parseFloat(1 + rate1);

            $('#PokokHutang1a').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(hp1));
            $('#PokokHutang1a').change();

            if (PolaAngsuranY[PolaAngsuranX].value == 1)//bunga anuitas
            {

                if (AngsDimkY[AngsDimkX].value == 1)//angsuran dimuka y
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {
                        //  angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                        // angs2 = Math.round(((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))).toFixed(0);
                        //  angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a))))/1000)*1000;
                        angs1 = ((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;
                        angs2 = Math.round((((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs2));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs2);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs2 * Tenor1a).toFixed(0);
                    if (angs2 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();


                    }
                }
                else//angsuran dimuka tidak
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {

                        angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs1);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs1 * Tenor1a).toFixed(0);
                    if (angs1 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();

                    }
                }

            }
            else//bunga flat
            {
                if (hp1 == 0 || rate1 == 0) {
                    $('#AngsuranBln1').val(0);
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(0);
                    $('#AngsuranBln2').change();
                    angs1 = 0;
                }
                else {

                    // angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                    // angs1 = ((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a).toFixed(0);
                    angs1 = Math.round(((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a));
                    $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(angs1);
                    $('#AngsuranBln2').change();
                }
                var jumlahKontrak = parseFloat(angs1 * Tenor1a);
                if (angs1 == 0) {
                    $('#NilaiBunga1').val(0);
                    $('#NilaiBunga1').change();
                    $('#NilaiKontrak1').val(0);
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(0);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(0);
                    $('#NilaiKontrak2').change();

                    $('#BFlat1').val(0);
                    $('#BFlat1').change();

                }
                else {
                    var NIlaiBunga1 = (jumlahKontrak - hp1);
                    $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                    $('#NilaiBunga1').change();

                    $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(NIlaiBunga1);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(jumlahKontrak);
                    $('#NilaiKontrak2').change();

                    var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                    $('#BFlat1').val(flat1AA.toFixed(2));
                    $('#BFlat1').change();

                }

            }



        });

        $('#asuransi1').change(function () {
            var HargaOtr1a = parseFloat($('#HargaOtr1').val());
            var Um1a = parseFloat($('#Um1').val());
            var asuransi1a = parseFloat($('#asuransi1').val());
            var adm1a = parseFloat($('#adm1').val());
            var BFlat1a = parseFloat($('#BFlat1').val());
            var BEfektif1a = parseFloat($('#BEfektif1').val());
            var Tenor1a = parseFloat($('#Tenor1').val());
            var NilaiBunga1a = parseFloat($('#NilaiBunga1').val());
            var NilaiKontrak1a = parseFloat($('#NilaiKontrak1').val());
            var AngsuranBln1a = parseFloat($('#AngsuranBln1').val());
            var AdmAngsuran1a = parseFloat($('#AdmAngsuran1').val());
            var Angsuran1a = parseFloat($('#Angsuran1').val());
            var rate1 = parseFloat((BEfektif1a) / 1200);
            var hp1 = HargaOtr1a - Um1a + adm1a + asuransi1a;
            var angs1 = 0;
            var angs2 = 0;
            var PolaAngsuranX = document.getElementById("PolaAngsuran1a").selectedIndex;
            var PolaAngsuranY = document.getElementById("PolaAngsuran1a").options;

            var AngsDimkX = document.getElementById("AngsuranDimk1a").selectedIndex;
            var AngsDimkY = document.getElementById("AngsuranDimk1a").options;

            var hprate1 = parseFloat(hp1 * rate1);
            var rate2 = parseFloat(1 + rate1);

            $('#PokokHutang1a').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(hp1));
            $('#PokokHutang1a').change();

            if (PolaAngsuranY[PolaAngsuranX].value == 1)//bunga anuitas
            {

                if (AngsDimkY[AngsDimkX].value == 1)//angsuran dimuka y
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {
                        //  angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                        // angs2 = Math.round(((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))).toFixed(0);
                        //  angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a))))/1000)*1000;
                        angs1 = ((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;
                        angs2 = Math.round((((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs2));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs2);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs2 * Tenor1a).toFixed(0);
                    if (angs2 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();


                    }
                }
                else//angsuran dimuka tidak
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {

                        angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;

                        $('#AngsuranBln1').val(angs1);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs1);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs1 * Tenor1a).toFixed(0);
                    if (angs1 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();

                    }
                }

            }
            else//bunga flat
            {
                if (hp1 == 0 || rate1 == 0) {
                    $('#AngsuranBln1').val(0);
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(0);
                    $('#AngsuranBln2').change();
                    angs1 = 0;
                }
                else {

                    // angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                    // angs1 = ((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a).toFixed(0);
                    angs1 = Math.round(((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a));
                    $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(angs1);
                    $('#AngsuranBln2').change();
                }
                var jumlahKontrak = parseFloat(angs1 * Tenor1a);
                if (angs1 == 0) {
                    $('#NilaiBunga1').val(0);
                    $('#NilaiBunga1').change();
                    $('#NilaiKontrak1').val(0);
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(0);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(0);
                    $('#NilaiKontrak2').change();

                    $('#BFlat1').val(0);
                    $('#BFlat1').change();

                }
                else {
                    var NIlaiBunga1 = (jumlahKontrak - hp1);
                    $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                    $('#NilaiBunga1').change();

                    $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(NIlaiBunga1);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(jumlahKontrak);
                    $('#NilaiKontrak2').change();

                    var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                    $('#BFlat1').val(flat1AA.toFixed(2));
                    $('#BFlat1').change();

                }

            }



        });

        $('#Um1').change(function () {
            var HargaOtr1a = parseFloat($('#HargaOtr1').val());
            var Um1a = parseFloat($('#Um1').val());
            var asuransi1a = parseFloat($('#asuransi1').val());
            var adm1a = parseFloat($('#adm1').val());
            var BFlat1a = parseFloat($('#BFlat1').val());
            var BEfektif1a = parseFloat($('#BEfektif1').val());
            var Tenor1a = parseFloat($('#Tenor1').val());
            var NilaiBunga1a = parseFloat($('#NilaiBunga1').val());
            var NilaiKontrak1a = parseFloat($('#NilaiKontrak1').val());
            var AngsuranBln1a = parseFloat($('#AngsuranBln1').val());
            var AdmAngsuran1a = parseFloat($('#AdmAngsuran1').val());
            var Angsuran1a = parseFloat($('#Angsuran1').val());
            var rate1 = parseFloat((BEfektif1a) / 1200);
            var hp1 = HargaOtr1a - Um1a + adm1a + asuransi1a;
            var angs1 = 0;
            var angs2 = 0;
            var PolaAngsuranX = document.getElementById("PolaAngsuran1a").selectedIndex;
            var PolaAngsuranY = document.getElementById("PolaAngsuran1a").options;

            var AngsDimkX = document.getElementById("AngsuranDimk1a").selectedIndex;
            var AngsDimkY = document.getElementById("AngsuranDimk1a").options;

            var hprate1 = parseFloat(hp1 * rate1);
            var rate2 = parseFloat(1 + rate1);


            $('#PokokHutang1a').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(hp1));
            $('#PokokHutang1a').change();


            if (PolaAngsuranY[PolaAngsuranX].value == 1)//bunga anuitas
            {

                if (AngsDimkY[AngsDimkX].value == 1)//angsuran dimuka y
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {
                        //  angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                        // angs2 = Math.round(((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))).toFixed(0);
                        //  angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a))))/1000)*1000;
                        angs1 = ((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;
                        angs2 = Math.round((((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs2));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs2);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs2 * Tenor1a).toFixed(0);
                    if (angs2 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();


                    }
                }
                else//angsuran dimuka tidak
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {

                        angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs1);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs1 * Tenor1a).toFixed(0);
                    if (angs1 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();

                    }
                }

            }
            else//bunga flat
            {
                if (hp1 == 0 || rate1 == 0) {
                    $('#AngsuranBln1').val(0);
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(0);
                    $('#AngsuranBln2').change();
                    angs1 = 0;
                }
                else {

                    // angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                    // angs1 = ((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a).toFixed(0);
                    angs1 = Math.round(((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a));
                    $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(angs1);
                    $('#AngsuranBln2').change();
                }
                var jumlahKontrak = parseFloat(angs1 * Tenor1a);
                if (angs1 == 0) {
                    $('#NilaiBunga1').val(0);
                    $('#NilaiBunga1').change();
                    $('#NilaiKontrak1').val(0);
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(0);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(0);
                    $('#NilaiKontrak2').change();

                    $('#BFlat1').val(0);
                    $('#BFlat1').change();

                }
                else {
                    var NIlaiBunga1 = (jumlahKontrak - hp1);
                    $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                    $('#NilaiBunga1').change();

                    $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(NIlaiBunga1);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(jumlahKontrak);
                    $('#NilaiKontrak2').change();

                    var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                    $('#BFlat1').val(flat1AA.toFixed(2));
                    $('#BFlat1').change();

                }

            }



        });
        $('#HargaOtr1').change(function () {
            var HargaOtr1a = parseFloat($('#HargaOtr1').val());
            var Um1a = parseFloat($('#Um1').val());
            var asuransi1a = parseFloat($('#asuransi1').val());
            var adm1a = parseFloat($('#adm1').val());
            var BFlat1a = parseFloat($('#BFlat1').val());
            var BEfektif1a = parseFloat($('#BEfektif1').val());
            var Tenor1a = parseFloat($('#Tenor1').val());
            var NilaiBunga1a = parseFloat($('#NilaiBunga1').val());
            var NilaiKontrak1a = parseFloat($('#NilaiKontrak1').val());
            var AngsuranBln1a = parseFloat($('#AngsuranBln1').val());
            var AdmAngsuran1a = parseFloat($('#AdmAngsuran1').val());
            var Angsuran1a = parseFloat($('#Angsuran1').val());
            var rate1 = parseFloat((BEfektif1a) / 1200);
            var hp1 = HargaOtr1a - Um1a + adm1a + asuransi1a;
            var angs1 = 0;
            var angs2 = 0;
            var PolaAngsuranX = document.getElementById("PolaAngsuran1a").selectedIndex;
            var PolaAngsuranY = document.getElementById("PolaAngsuran1a").options;

            var AngsDimkX = document.getElementById("AngsuranDimk1a").selectedIndex;
            var AngsDimkY = document.getElementById("AngsuranDimk1a").options;

            var hprate1 = parseFloat(hp1 * rate1);
            var rate2 = parseFloat(1 + rate1);

            $('#PokokHutang1a').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(hp1));
            $('#PokokHutang1a').change();

            if (PolaAngsuranY[PolaAngsuranX].value == 1)//bunga anuitas
            {

                if (AngsDimkY[AngsDimkX].value == 1)//angsuran dimuka y
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {
                        //  angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                        // angs2 = Math.round(((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))).toFixed(0);
                        //  angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a))))/1000)*1000;
                        angs1 = ((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;
                        angs2 = Math.round((((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs2));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs2);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs2 * Tenor1a).toFixed(0);
                    if (angs2 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();


                    }
                }
                else//angsuran dimuka tidak
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {

                        angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs1);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs1 * Tenor1a).toFixed(0);
                    if (angs1 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();

                    }
                }

            }
            else//bunga flat
            {
                if (hp1 == 0 || rate1 == 0) {
                    $('#AngsuranBln1').val(0);
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(0);
                    $('#AngsuranBln2').change();
                    angs1 = 0;
                }
                else {

                    // angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                    // angs1 = ((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a).toFixed(0);
                    angs1 = Math.round(((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a));
                    $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(angs1);
                    $('#AngsuranBln2').change();
                }
                var jumlahKontrak = parseFloat(angs1 * Tenor1a);
                if (angs1 == 0) {
                    $('#NilaiBunga1').val(0);
                    $('#NilaiBunga1').change();
                    $('#NilaiKontrak1').val(0);
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(0);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(0);
                    $('#NilaiKontrak2').change();

                    $('#BFlat1').val(0);
                    $('#BFlat1').change();

                }
                else {
                    var NIlaiBunga1 = (jumlahKontrak - hp1);
                    $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                    $('#NilaiBunga1').change();

                    $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(NIlaiBunga1);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(jumlahKontrak);
                    $('#NilaiKontrak2').change();

                    var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                    $('#BFlat1').val(flat1AA.toFixed(2));
                    $('#BFlat1').change();

                }

            }



        });

        $('#AngsuranDimk1a').change(function () {
            var HargaOtr1a = parseFloat($('#HargaOtr1').val());
            var Um1a = parseFloat($('#Um1').val());
            var asuransi1a = parseFloat($('#asuransi1').val());
            var adm1a = parseFloat($('#adm1').val());
            var BFlat1a = parseFloat($('#BFlat1').val());
            var BEfektif1a = parseFloat($('#BEfektif1').val());
            var Tenor1a = parseFloat($('#Tenor1').val());
            var NilaiBunga1a = parseFloat($('#NilaiBunga1').val());
            var NilaiKontrak1a = parseFloat($('#NilaiKontrak1').val());
            var AngsuranBln1a = parseFloat($('#AngsuranBln1').val());
            var AdmAngsuran1a = parseFloat($('#AdmAngsuran1').val());
            var Angsuran1a = parseFloat($('#Angsuran1').val());
            var rate1 = parseFloat((BEfektif1a) / 1200);
            var hp1 = HargaOtr1a - Um1a + adm1a + asuransi1a;
            var angs1 = 0;
            var angs2 = 0;
            var PolaAngsuranX = document.getElementById("PolaAngsuran1a").selectedIndex;
            var PolaAngsuranY = document.getElementById("PolaAngsuran1a").options;

            var AngsDimkX = document.getElementById("AngsuranDimk1a").selectedIndex;
            var AngsDimkY = document.getElementById("AngsuranDimk1a").options;

            var hprate1 = parseFloat(hp1 * rate1);
            var rate2 = parseFloat(1 + rate1);

            $('#PokokHutang1a').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(hp1));
            $('#PokokHutang1a').change();

            if (PolaAngsuranY[PolaAngsuranX].value == 1)//bunga anuitas
            {

                if (AngsDimkY[AngsDimkX].value == 1)//angsuran dimuka y
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {
                        //  angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                        // angs2 = Math.round(((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))).toFixed(0);

                        //   angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;
                        angs1 = ((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;
                        angs2 = Math.round((((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs2));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs2);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs2 * Tenor1a).toFixed(0);
                    if (angs2 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();


                    }
                }
                else//angsuran dimuka tidak
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {

                        angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs1);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs1 * Tenor1a).toFixed(0);
                    if (angs1 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();

                    }
                }

            }
            else//bunga flat
            {
                if (hp1 == 0 || rate1 == 0) {
                    $('#AngsuranBln1').val(0);
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(0);
                    $('#AngsuranBln2').change();
                    angs1 = 0;
                }
                else {

                    // angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                    // angs1 = ((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a).toFixed(0);
                    angs1 = Math.round(((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a));
                    $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(angs1);
                    $('#AngsuranBln2').change();
                }
                var jumlahKontrak = parseFloat(angs1 * Tenor1a);
                if (angs1 == 0) {
                    $('#NilaiBunga1').val(0);
                    $('#NilaiBunga1').change();
                    $('#NilaiKontrak1').val(0);
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(0);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(0);
                    $('#NilaiKontrak2').change();


                    $('#BFlat1').val(0);
                    $('#BFlat1').change();

                }
                else {
                    var NIlaiBunga1 = (jumlahKontrak - hp1);
                    $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                    $('#NilaiBunga1').change();

                    $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(NIlaiBunga1);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(jumlahKontrak);
                    $('#NilaiKontrak2').change();

                    var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                    $('#BFlat1').val(flat1AA.toFixed(2));
                    $('#BFlat1').change();

                }

            }


        });



        $('#PolaAngsuran1a').change(function () {
            var HargaOtr1a = parseFloat($('#HargaOtr1').val());
            var Um1a = parseFloat($('#Um1').val());
            var asuransi1a = parseFloat($('#asuransi1').val());
            var adm1a = parseFloat($('#adm1').val());
            var BFlat1a = parseFloat($('#BFlat1').val());
            var BEfektif1a = parseFloat($('#BEfektif1').val());
            var Tenor1a = parseFloat($('#Tenor1').val());
            var NilaiBunga1a = parseFloat($('#NilaiBunga1').val());
            var NilaiKontrak1a = parseFloat($('#NilaiKontrak1').val());
            var AngsuranBln1a = parseFloat($('#AngsuranBln1').val());
            var AdmAngsuran1a = parseFloat($('#AdmAngsuran1').val());
            var Angsuran1a = parseFloat($('#Angsuran1').val());
            var rate1 = parseFloat((BEfektif1a) / 1200);
            var hp1 = HargaOtr1a - Um1a + adm1a + asuransi1a;
            var angs1 = 0;
            var angs2 = 0;
            var PolaAngsuranX = document.getElementById("PolaAngsuran1a").selectedIndex;
            var PolaAngsuranY = document.getElementById("PolaAngsuran1a").options;

            var AngsDimkX = document.getElementById("AngsuranDimk1a").selectedIndex;
            var AngsDimkY = document.getElementById("AngsuranDimk1a").options;

            var hprate1 = parseFloat(hp1 * rate1);
            var rate2 = parseFloat(1 + rate1);

            $('#PokokHutang1a').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(hp1));
            $('#PokokHutang1a').change();

            if (PolaAngsuranY[PolaAngsuranX].value == 1)//bunga anuitas
            {

                if (AngsDimkY[AngsDimkX].value == 1)//angsuran dimuka y
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {
                        //  angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                        // angs2 = Math.round(((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))).toFixed(0);
                        //angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;
                        angs1 = ((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;
                        angs2 = Math.round((((hp1 - angs1) * rate1) / (1 - (1 / Math.pow(rate2, (Tenor1a - 1))))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs2));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs2);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs2 * Tenor1a).toFixed(0);
                    if (angs2 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();


                    }
                }
                else//angsuran dimuka tidak
                {
                    if (hp1 == 0 || rate1 == 0) {
                        $('#AngsuranBln1').val(0);
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(0);
                        $('#AngsuranBln2').change();
                        angs1 = 0;
                    }
                    else {

                        angs1 = Math.round((hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))) / 1000) * 1000;

                        $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                        $('#AngsuranBln1').change();

                        $('#AngsuranBln2').val(angs1);
                        $('#AngsuranBln2').change();
                    }
                    var jumlahKontrak = parseFloat(angs1 * Tenor1a).toFixed(0);
                    if (angs1 == 0) {
                        $('#NilaiBunga1').val(0);
                        $('#NilaiBunga1').change();
                        $('#NilaiKontrak1').val(0);
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(0);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(0);
                        $('#NilaiKontrak2').change();

                        $('#BFlat1').val(0);
                        $('#BFlat1').change();

                    }
                    else {
                        var NIlaiBunga1 = (jumlahKontrak - hp1);
                        $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                        $('#NilaiBunga1').change();

                        $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                        $('#NilaiKontrak1').change();

                        $('#NilaiBunga2').val(NIlaiBunga1);
                        $('#NilaiBunga2').change();
                        $('#NilaiKontrak2').val(jumlahKontrak);
                        $('#NilaiKontrak2').change();

                        var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                        $('#BFlat1').val(flat1AA.toFixed(2));
                        $('#BFlat1').change();

                    }
                }

            }
            else//bunga flat
            {
                if (hp1 == 0 || rate1 == 0) {
                    $('#AngsuranBln1').val(0);
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(0);
                    $('#AngsuranBln2').change();
                    angs1 = 0;
                }
                else {

                    // angs1 = Math.round(hprate1 / (1 - (1 / Math.pow(rate2, Tenor1a)))).toFixed(0);
                    // angs1 = ((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a).toFixed(0);
                    angs1 = Math.round(((hp1 + (hp1 * BEfektif1a * Tenor1a / 1200)) / Tenor1a));
                    $('#AngsuranBln1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(angs1));
                    $('#AngsuranBln1').change();

                    $('#AngsuranBln2').val(angs1);
                    $('#AngsuranBln2').change();
                }
                var jumlahKontrak = parseFloat(angs1 * Tenor1a);
                if (angs1 == 0) {
                    $('#NilaiBunga1').val(0);
                    $('#NilaiBunga1').change();
                    $('#NilaiKontrak1').val(0);
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(0);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(0);
                    $('#NilaiKontrak2').change();

                    $('#BFlat1').val(0);
                    $('#BFlat1').change();

                }
                else {
                    var NIlaiBunga1 = (jumlahKontrak - hp1);
                    $('#NilaiBunga1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(NIlaiBunga1));
                    $('#NilaiBunga1').change();

                    $('#NilaiKontrak1').val(Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(jumlahKontrak));
                    $('#NilaiKontrak1').change();

                    $('#NilaiBunga2').val(NIlaiBunga1);
                    $('#NilaiBunga2').change();
                    $('#NilaiKontrak2').val(jumlahKontrak);
                    $('#NilaiKontrak2').change();

                    var flat1AA = ((NIlaiBunga1) / (((hp1)) * ((Tenor1a) / 12))) * 100;
                    $('#BFlat1').val(flat1AA.toFixed(2));
                    $('#BFlat1').change();

                }

            }


        });



    });
</script>

