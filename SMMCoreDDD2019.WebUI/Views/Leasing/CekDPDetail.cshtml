@model IEnumerable<SmmCoreDDD2019.Application.PenjualanDetails.Query.GetDataPenjualanDetailByNo.GetDataPenjualanDetailByNoLookUpModel>
@{
    ViewData["Title"] = "CekDPDetail";
    Layout = "~/Views/Shared/_AdminlteCreate.cshtml";
}

<h2>CekDPDetail</h2>

<script>
    function onlyNumbers(evt) {
        var e = event || evt; // for trans-browser compatibility
        var charCode = e.which || e.keyCode;

        if (charCode > 31 && (charCode < 48 || charCode > 57))
            return false;
        return true;

    };



</script>


<h2>CekDPDetail</h2>
<div>
    <table>
        <tr>
            <td>
                <form asp-controller="LeasingCetak" asp-action="CekDPDetail" method="post">
                    Data
                    <select name="KodePj1a" asp-items="ViewBag.DataPj1"></select>
                    <input name="submit" type="submit" value="Cari" class="btn btn-default" /><br />
                    <input name="submit" type="submit" value="Cek" class="btn btn-default" /><br />
                    <input hidden name="tgl1a" value="@ViewBag.Tgl1a" />
                    <input hidden name="tgl2a" value="@ViewBag.Tgl2a" />
                    <input hidden name="tgl1" value="@ViewBag.Tgl1a" />
                    <input hidden name="tgl2" value="@ViewBag.Tgl2a" />
                    <input hidden name="KodePj1b" value="@ViewBag.KodePj1b" />


                </form>

            </td>
            <td></td>
        </tr>
    </table>

</div>

<div>
    <table class="table table-bordered" width="100%">


        @if (Model == null)
        {



        }
        else
        {
            foreach (var item in Model)
            {
                <tr>
                    <th>
                        Kode Konsumen:

                    </th>
                    <th>Nama Konsumen</th>
                    <th>Nama BPKB</th>
                    <th>Nama Faktur</th>
                    <th>Tgl Penjualan</th>
                    <th>Sales Force</th>
                    <th>Kategori Penjualan</th>
                    <th>Mediator</th>


                </tr>

                <tr>
                    <td>
                        @item.KodeKonsumen<br />
                        <a asp-controller="Customers" asp-action="Edit" asp-route-id="@item.KodeKonsumen">Edit</a>

                    </td>
                    <td>@item.NamaKonsumen</td>
                    <td>@item.NamaBPKB</td>
                    <td>@item.NamaFaktur</td>
                    <td>@string.Format("{0:d}", item.TanggalPenjualan)</td>
                    <td>@item.SalesForce</td>
                    <td>@item.KategoriPenjualan</td>
                    <td>@item.Mediator1</td>

                </tr>
                <tr>
                    <th>Tgl Beli</th>
                    <th>Nama Barang</th>
                    <th>Warna</th>
                    <th>No Mesin</th>
                    <th>No Rangka</th>
                    <th>Merek</th>
                    <th>Diskon Unit</th>
                    <th>Sell In</th>
                    <th>Supplier</th>
                </tr>

                <tr>
                    <td>@string.Format("{0:d}", item.TanggalBeliUnit)</td>
                    <td>@item.NamaBarang</td>
                    <td>@item.Warna</td>
                    <td>@item.NoMesin</td>
                    <td>@item.NoRangka</td>
                    <td>@item.Merek</td>
                    <td>@string.Format("{0:c}", item.DiskonUnit)</td>
                    <td>@string.Format("{0:c}", item.SellIn) </td>
                    <td>@item.NamaSupplier</td>
                </tr>

                <tr>
                    <th>Kode Penjualan</th>
                    <th>Lease</th>
                    <th>Cabang Lease</th>
                    <th>No PO</th>
                    <th>No Buku</th>
                    @*<th>Tgl Pelunasan</th>*@
                    <th>Margin</th>
                </tr>

                <tr>
                    <td>
                        @item.NoUrutPenjualanDetail<br />
                        @*<a asp-controller="Penjualans" asp-action="Edit" asp-route-id="@item.NoUrutPJ">Edit</a>*@
                    </td>
                    <td>@item.NamaLeasing</td>
                    <td>@item.CabangLeasing</td>
                    <td>@item.NomorPO</td>
                    <td>@item.NoBuku1</td>
                    @*<td>@string.Format("{0:d}", item.TglLunasLeasing1) </td>*@
                    <td>@string.Format("{0:c}", item.ProfitUnit)</td>

                </tr>
                <tr>
                    <th>
                        Kode Pj Detail :

                    </th>
                    <th>Harga OTR</th>
                    <th>Uang Muka</th>
                    <th>Diskon Kredit</th>
                    <th>DP Bayar</th>
                    <th>Diskon Tunai</th>
                    <th>Subsdi</th>
                    <th>Promosi</th>
                    <th>Komisi</th>
                    <th>Join Promo 2</th>

                </tr>
                <tr>
                    <td>
                        @item.NoUrutPenjualanDetail <br />
                        <a asp-controller="PenjualanDetails" asp-action="Edit" asp-route-id="@item.NoUrutPenjualanDetail">Edit</a>
                    </td>
                    <td>@string.Format("{0:c}", item.HargaOTR)</td>
                    <td>@string.Format("{0:c}", item.UangMuka)</td>
                    <td>@string.Format("{0:c}", item.DiskonKredit)</td>
                    <td>@string.Format("{0:c}", item.DPBayar)</td>
                    <td>@string.Format("{0:c}", item.DiskonTunai)</td>
                    <td>@string.Format("{0:c}", item.Subsidi1)</td>
                    <td>@string.Format("{0:c}", item.Promosi1)</td>
                    <td>@string.Format("{0:c}", item.Komisi1)</td>
                    <td>@string.Format("{0:c}", item.JoinPromo2)</td>

                </tr>

                <tr>
                    <th>SPF</th>
                    <th>Sell Out</th>
                    <th>Denda Wilayah</th>
                    <th>Tagihan</th>
                    <th>Join Promo 1</th>
                    <th>Total Tagihan</th>
                </tr>
                <tr>
                    <td>@string.Format("{0:c}", item.SPF1)</td>
                    <td>@string.Format("{0:c}", item.SellOut1)</td>
                    <td>@string.Format("{0:c}", item.DendaWilayah1)</td>
                    <td>@string.Format("{0:c}", item.Tagihan1)</td>
                    <td>@string.Format("{0:c}", item.JoinPromo1)</td>
                    <td>@string.Format("{0:c}", item.TotalTagihan1)</td>
                </tr>



            }
        }
    </table>
</div>
